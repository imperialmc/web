<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>Imperial Network | Minecraft Server</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#8b0000">

<!-- Fuente estilo Minecraft -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
:root{
  --red:#c40000;
  --dark:#0a0000;
  --panel:#120000;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:'Press Start 2P', monospace;
  background:#000;
  color:#fff;
  overflow-x:hidden;
}

/* ðŸ”¥ PARTICULAS DE FUEGO */
canvas{
  position:fixed;
  inset:0;
  z-index:-1;
}

/* HERO */
header{
  text-align:center;
  padding:80px 20px 50px;
}

h1{
  color:#ff2b2b;
  font-size:34px;
  text-shadow:0 0 15px #ff0000;
}

p{
  color:#ddd;
  max-width:700px;
  margin:20px auto;
  font-size:12px;
  line-height:1.8;
}

/* BOTONES */
.btn{
  display:inline-block;
  margin:10px;
  padding:14px 20px;
  background:linear-gradient(180deg,#ff2b2b,#6a0000);
  border:3px solid #000;
  color:#fff;
  text-decoration:none;
  font-size:11px;
  box-shadow:inset 0 -4px 0 #300;
}

.btn:hover{
  filter:brightness(1.15);
  transform:translateY(-2px);
}

/* PANEL */
.panel{
  max-width:1000px;
  margin:30px auto;
  background:var(--panel);
  border:4px solid #000;
  box-shadow:0 0 0 4px #400;
  padding:25px;
}

/* STATS */
.stats{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:16px;
}

.stat{
  background:#000;
  border:3px solid #400;
  padding:15px;
  text-align:center;
}

.stat b{
  display:block;
  color:#ff2b2b;
  margin-bottom:8px;
}

/* IP */
.ip{
  display:inline-block;
  background:#000;
  border:3px dashed #ff2b2b;
  padding:10px 16px;
  margin:20px 0;
  font-size:12px;
}

/* ESTADOS */
.online{color:#00ff88}
.offline{color:#ff3b3b}

footer{
  text-align:center;
  padding:25px;
  color:#888;
  font-size:10px;
  border-top:3px solid #300;
}
</style>
</head>

<body>

<canvas id="fire"></canvas>

<header>
  <h1>IMPERIAL NETWORK</h1>
  <p>
    Servidor de Minecraft competitivo con eventos, economÃ­a balanceada
    y una comunidad imperial.
  </p>

  <div class="ip" id="ipText">imperialmc.holy.gg</div><br>

  <button class="btn" onclick="copyIP()">COPIAR IP</button>
  <a class="btn" href="https://tienda.imperialmc.lat" target="_blank">TIENDA TEBEX</a>
</header>

<section class="panel">
  <h2>ESTADO DEL SERVIDOR</h2>

  <div class="stats">
    <div class="stat">
      <b id="status">â€”</b>
      ESTADO
    </div>
    <div class="stat">
      <b id="players">â€”</b>
      JUGADORES
    </div>
    <div class="stat">
      <b id="version">â€”</b>
      VERSION
    </div>
    <div class="stat">
      <b id="ping">â€”</b>
      PING
    </div>
  </div>

  <p id="motd" style="margin-top:20px;color:#ccc;font-size:11px"></p>
</section>

<footer>
  Â© <span id="year"></span> Imperial Network â€” Minecraft Server
</footer>

<script>
/* ===== API MC ===== */
const IP = "imperialmc.holy.gg";
const API = "https://api.mcsrvstat.us/3/imperialmc.holy.gg";

document.getElementById("ipText").textContent = IP;
document.getElementById("year").textContent = new Date().getFullYear();

async function updateStatus(){
  try{
    const res = await fetch(API,{cache:"no-store"});
    const d = await res.json();

    if(d.online){
      status.textContent="ONLINE";
      status.className="online";
      players.textContent=`${d.players.online}/${d.players.max}`;
      version.textContent=d.version || "â€”";
      ping.textContent=(d.debug?.ping || "â€”")+" ms";
      motd.innerHTML=d.motd?.clean?.join("<br>") || "";
    }else throw "offline";

  }catch{
    status.textContent="OFFLINE";
    status.className="offline";
    players.textContent="â€”";
    version.textContent="â€”";
    ping.textContent="â€”";
    motd.textContent="";
  }
}

updateStatus();
setInterval(updateStatus,10000);

function copyIP(){
  navigator.clipboard.writeText(IP);
  alert("IP copiada: "+IP);
}

/* ===== PARTICULAS DE FUEGO ===== */
const c=document.getElementById("fire"),ctx=c.getContext("2d");
let w,h,particles=[];
function resize(){w=c.width=innerWidth;h=c.height=innerHeight}
addEventListener("resize",resize);resize();

function spawn(){
  particles.push({
    x:Math.random()*w,
    y:h+20,
    vy:2+Math.random()*3,
    r:2+Math.random()*4,
    a:1
  });
}

function loop(){
  ctx.clearRect(0,0,w,h);
  particles.forEach(p=>{
    p.y-=p.vy;
    p.a-=0.01;
    ctx.fillStyle=`rgba(255,80,0,${p.a})`;
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fill();
  });
  particles=particles.filter(p=>p.a>0);
  if(particles.length<200)spawn();
  requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
